#include "qcom-msm7x30.dtsi"

#include <dt-bindings/input/input.h>

&ldo8 {
	regulator-max-microvolt = <2850000>;
};

&ldo10 {
	regulator-min-microvolt = <2700000>;
	regulator-max-microvolt = <2700000>;
};

&ldo11 {
	regulator-min-microvolt = <1800000>;
};

&ldo20 {
	regulator-min-microvolt = <1800000>;
	regulator-always-on;
};

&pm8058_gpio {
	pm8058_keypad_gpios:pm8058_keypad_gpios {
		kypd_sns {
			pins = "gpio1", "gpio2", "gpio3", "gpio4", "gpio5";
			function = "normal";
			input-enable;
			bias-pull-up;
			qcom,pull-up-strength = <PMIC_GPIO_PULL_UP_31P5>;
			power-source = <PM8058_GPIO_S3>;
			qcom,drive-strength = <PMIC_GPIO_STRENGTH_NO>;
			drive-push-pull;
		};
		kypd_drv {
			pins = "gpio9", "gpio10", "gpio11", "gpio12", "gpio13";
			function = "func1";
			drive-open-drain;
			output-low;
			bias-disable;
			power-source = <PM8058_GPIO_S3>;
			qcom,drive-strength = <PMIC_GPIO_STRENGTH_LOW>;
		};
	};

	pm8058_sdc4_gpios:pm8058_sdc4_gpios {
		sdc4_pwr_en {
			pins = "gpio36";
		};
		sd_det {
			pins = "gpio21";
		};
	};
};

&pmicintc {
	keypad@148 {
		linux,keymap = <
			MATRIX_KEY(0, 0, KEY_VOLUMEUP)
			MATRIX_KEY(0, 1, KEY_VOLUMEDOWN)
			>;
		keypad,num-rows = <5>;
		keypad,num-columns = <5>;
		wakeup-source;

		pinctrl-names = "default";
		pinctrl-0 = <&pm8058_keypad_gpios>;
	};
};

/* eMMC */
&sdcc2 {
	status = "ok";
};

/* External micro SD card */
&sdcc4 {
	status = "ok";
	cd-gpios = <&pm8058_gpio 21 0>;
	cd-inverted;
};
